import{a as I}from"./chunk-I25BBKAA.js";import{a as y,b as w,c as N,d as D,e as T}from"./chunk-T5Y5AXDN.js";import{a as k}from"./chunk-TITNLOX4.js";import{q as A,r as V}from"./chunk-VG43LYMX.js";import{f as E,g as P,h as v}from"./chunk-52L5DIHH.js";import{Cb as r,Db as M,Eb as b,Fb as O,Ga as s,Hb as _,Ib as S,Jb as R,Ta as u,Y as d,Z as l,gb as x,hb as C,jb as i,kb as n,lb as g,pb as h,sb as p,tb as f}from"./chunk-4Y5VCLLF.js";var F=(a,t)=>t.id;function K(a,t){if(a&1){let e=h();i(0,"mat-card",2)(1,"mat-card-header")(2,"mat-card-title")(3,"strong"),r(4),n(),g(5,"br"),i(6,"small"),r(7),_(8,"currency"),n()(),i(9,"button",5),p("click",function(){let m=d(e).$implicit,c=f();return l(c.deleteReminder(m.id))}),i(10,"mat-icon"),r(11,"delete"),n()()(),i(12,"mat-card-content")(13,"p",6)(14,"mat-icon"),r(15,"notifications_active"),n(),r(16),_(17,"date"),n()(),i(18,"mat-card-actions",7)(19,"button",8),p("click",function(){let m=d(e).$implicit,c=f();return l(c.resolveReminder(m,!0))}),r(20,"BUY"),n(),i(21,"button",9),p("click",function(){let m=d(e).$implicit,c=f();return l(c.resolveReminder(m,!1))}),r(22,"SAVE"),n()()()}if(a&2){let e=t.$implicit;s(4),M(e.itemName||"Unnamed Item"),s(3),O("Price: ",S(8,4,e.price)," (",e.formattedTime,")"),s(9),b(" Reminder set for: ",R(17,6,e.remindAt,"short")," ")}}function z(a,t){a&1&&(i(0,"div",3)(1,"mat-icon"),r(2,"timer_off"),n(),i(3,"p"),r(4,"No active reminders. You're making quick decisions today!"),n()())}var Y=class a{reminders=[];REMINDERS_KEY="purchase_reminders";DECISIONS_KEY="purchase_decisions";ngOnInit(){this.loadReminders()}loadReminders(){let t=localStorage.getItem(this.REMINDERS_KEY);t&&(this.reminders=JSON.parse(t).sort((e,o)=>new Date(e.remindAt).getTime()-new Date(o.remindAt).getTime()))}resolveReminder(t,e){let o=JSON.parse(localStorage.getItem(this.DECISIONS_KEY)||"[]");o.push({itemName:t.itemName,price:t.price,hours:t.hours,formattedTime:t.formattedTime,bought:e,date:new Date().toISOString()}),localStorage.setItem(this.DECISIONS_KEY,JSON.stringify(o)),e||I({particleCount:150,spread:70,origin:{y:.6},colors:["#4caf50","#81c784","#ffffff"]}),this.deleteReminder(t.id)}deleteReminder(t){this.reminders=this.reminders.filter(e=>e.id!==t),localStorage.setItem(this.REMINDERS_KEY,JSON.stringify(this.reminders))}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=u({type:a,selectors:[["app-reminders"]],decls:8,vars:1,consts:[[1,"reminders-container"],[1,"cards-list"],["appearance","outlined",1,"reminder-card"],[1,"empty-msg"],[1,"bottom-spacer"],["mat-icon-button","",1,"delete-btn",3,"click"],[1,"due-info"],["align","end"],["mat-button","",1,"buy-btn",3,"click"],["mat-button","",1,"save-btn",3,"click"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"h1"),r(2,"Active Reminders"),n(),i(3,"div",1),x(4,K,23,9,"mat-card",2,F,!1,z,5,0,"div",3),n()(),g(7,"div",4)),e&2&&(s(4),C(o.reminders))},dependencies:[v,y,T,w,N,D,V,A,k,P,E],styles:["[_nghost-%COMP%]{display:block;width:100%}.reminders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px 0;gap:16px}h1[_ngcontent-%COMP%]{text-align:center;font-family:Roboto,sans-serif;margin-bottom:8px}.cards-list[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;gap:16px}.reminder-card[_ngcontent-%COMP%]{width:90vw;max-width:500px;border-left:5px solid #6c757d}.reminder-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px}mat-card-title[_ngcontent-%COMP%]{font-size:1rem!important}mat-card-title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#666;font-size:.85rem}.due-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#555;font-size:.9rem;margin:0 16px}.due-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#ff9800}.delete-btn[_ngcontent-%COMP%]{margin-left:auto}.buy-btn[_ngcontent-%COMP%]{color:#4caf50!important;font-weight:700!important}.save-btn[_ngcontent-%COMP%]{color:#f44336!important;font-weight:700!important}.empty-msg[_ngcontent-%COMP%]{text-align:center;color:#888;margin-top:3rem;display:flex;flex-direction:column;align-items:center;gap:10px}.empty-msg[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.bottom-spacer[_ngcontent-%COMP%]{height:80px}"]})};export{Y as Reminders};
